{"version":3,"sources":["Person.js","serverCom.js","Notification.js","App.js","index.js"],"names":["Person","person","removePerson","name","number","onClick","baseUrl","axios","get","then","response","data","newObject","post","id","delete","Notification","message","className","Addperson","addName","onSubmit","type","PersonForm","newName","handleNameChange","newNumber","handleNumberChange","value","onChange","Numberinput","App","useState","persons","setPersons","setNewName","setNewNumber","setMessage","useEffect","serverService","initialPerson","event","target","preventDefault","doubletable","filter","nameObject","length","returnedPerson","console","log","concat","setTimeout","window","alert","map","key","poistettavaPerson","find","n","confirm","newPersonList","i","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b7080292.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = ({ person, removePerson }) => {\n  return (\n    <li>\n      {person.name} {person.number}\n      <button onClick={removePerson}>delete</button>\n    </li>\n  )\n}\n\nexport default Person ","import axios from 'axios'\nconst baseUrl = 'http://localhost:3001/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nexport default { \n  getAll: getAll, \n  create: create, \n  remove: remove \n}","import React from 'react'\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"success\">\n      {message}\n    </div>\n  )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Person from './Person'\nimport serverService from './serverCom'\nimport Notification from './Notification'\n\n\nconst Addperson = ({ addName }) => {\n  return(\n    <form onSubmit={addName}>\n        <div>\n            <button type=\"submit\">add</button>\n        </div>\n    </form>\n  )\n}\n\nconst PersonForm = ({ newName, handleNameChange, newNumber, handleNumberChange }) => {\n  return(\n      <>\n      <div>Name: <input\n          value= {newName}\n          onChange={handleNameChange} />\n      </div>\n      <Numberinput \n          newNumber= {newNumber} \n          handleNumberChange={handleNumberChange}/>\n      </>\n  )\n}\n\nconst Numberinput = ({ newNumber, handleNumberChange }) => {\n  return (\n      <>\n      <div>Number: <input\n          value= {newNumber}\n          onChange={handleNumberChange} />\n      </div>\n      </>\n  )\n}\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ message, setMessage ] = useState(null)\n\n \n  useEffect(() => {\n    serverService\n        .getAll()\n        .then(initialPerson => {\n            setPersons(initialPerson)\n        })\n  }, []\n)\n\n  const addName = (event) => {\n      event.preventDefault()\n      const doubletable = persons.filter(function(person) {\n          return person.name === newName\n      })\n      \n      const nameObject = {\n         name: newName,\n         number: newNumber\n      }\n      \n      if(doubletable.length === 0) {\n        serverService\n        .create(nameObject)\n        .then(returnedPerson => {\n          console.log('nameobj ', returnedPerson)\n          setPersons(persons.concat(returnedPerson))\n          setNewName('')\n          setNewNumber('')\n        })\n        setMessage(`Added ${nameObject.name} `)\n        setTimeout(() => {\n            setMessage(null)\n        }, 5000)\n      }\n      else {\n        window.alert(`${newName} is already added to phonebook`)\n      }   \n  }\n\n  const removePerson = (id) => {\n      //Let's find removable person from the persons table and remove it\n      const poistettavaPerson = persons.find(n => n.id === id)\n      if(window.confirm(`Delete ${poistettavaPerson.name}?`)){\n        setMessage(`Person ${poistettavaPerson.name} deleted`)\n        setTimeout(() => {\n          setMessage(null)\n      }, 5000)  \n        \n        const newPersonList = persons.filter(function(i) {\n              return i !== poistettavaPerson\n          })\n          setPersons(newPersonList)\n\n          //remove the person from db\n          serverService\n          .remove(id)\n      }\n  }\n\n  const handleNameChange = (event) => {\n      setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n}\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <h3>Add a new</h3>\n      <PersonForm newName={newName}\n          handleNameChange={handleNameChange}\n          newNumber = {newNumber}\n          handleNumberChange = {handleNumberChange} \n      />\n      <Addperson addName={addName}/>\n    \n      <h2>Numbers</h2>\n        <ul>\n          {persons.map(person => \n            <Person key={person.name} person={person} removePerson={() => removePerson(person.id)} />\n          )}\n        </ul>\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)\n\n"],"sourceRoot":""}